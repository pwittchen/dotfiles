[user]
    email = piotr@wittchen.io
    name = Piotr Wittchen
[core]
    autocrlf = input
    editor = vim
    excludesfile = ~/.gitignore_global
[alias]
    ; metadata
    list-aliases = !git config -l | grep alias | cut -c 7- | sort
    show-remote-url = config --get remote.origin.url

    ; status
    status-short = status -sb

    ; commits, logs & branches
    my-commits = "!git log --author=\"`git config user.name`\" --pretty=format:\"%cd %h %s\" --date=short"
    my-commits-today = "!git log --author=\"`git config user.name`\" --pretty=format:\"%cd %h %s\" --date=short --since=00:00:00 --all --no-merges"
    my-commits-last-month = "!git log --author=\"`git config user.name`\" --pretty=format:\"%cd %h %s\" --date=short --since=\"30 days ago\" --all --no-merges"
    last-commit-msg = log -1 --pretty=%B
    last-commit-hash = log -1 --pretty=%h
    log-raw = log --raw
    log-hist = log --graph --abbrev-commit --decorate --date=relative --format=format:'%C(bold blue)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(dim white)- %an%C(reset)%C(bold yellow)%d%C(reset)' --all
    log-short = log --pretty=format:'%C(yellow)%h %ad%Cred%d %Creset %s %C(bold blue)[%cn]%Creset' --decorate --date=short
    list-new-unstaged-files = ls-files --others --exclude-standard
    list-contributors = shortlog -sn

    ; tracked files
    tracked-files = ls-files -t
    untracked-files = ls-files --others
    ignored = ls-files --others -i --exclude-standard

    ; ignoring files locally
    ignore-local = update-index --assume-unchanged
    unignore-local = update-index --no-assume-unchanged
    ignored-local = !git ls-files -v | grep "^[[:lower:]]"

    ; adding new files and reviewing changes
    review = add -p
    add-all = add -A

    ; undoing things
    reset-file = checkout HEAD --
    discard-uncommited-changes = reset --hard
    discard-unstaged-changes = checkout -- .
    remove-from-stage = reset HEAD -- 
    undo-last-commit = reset --hard HEAD^
    revert-merge-commit = git revert -m 1
    restore-file = !git checkout $(git rev-list -n 1 HEAD -- "$1")^ -- "$1"

    ; removing untracked files/dirs
    show-untracked-files-to-remove = clean -n
    remove-untracked-files = clean -f
    remove-untracked-dir = clean -f -d

    ; merging/squashing commits
    merge-commits = !sh -c 'git reset --soft HEAD~$1' -
    squash = "!f(){ git reset --soft HEAD~${1} && git commit --edit -m\"$(git log --format=%B --reverse HEAD..HEAD@{1})\";  };f"

    ; branches
    new-branch = checkout -b
    delete-branch = branch -d
    force-delete-branch = branch -D
    delete-remote-branch = push origin --delete
    delete-branches-merged-to-master = "!git checkout master && git branch --merged | grep -v '\\*' | xargs -n 1 git branch -d"
    delete-branches-merged-to-develop = "!git checkout develop && git branch --merged | grep -v '\\*' | xargs -n 1 git branch -d"

    ; showing diffs
    diff-commit = diff --cached HEAD^
    diff-staged = diff --staged

    ; searching files
    find-file= !git ls-files | grep -i
[push]
    default = simple
[diff]
    tool = vimdiff

; interesting references for git aliases and configuration:
; - https://gist.github.com/mwhite/6887990
; - http://durdn.com/blog/2012/11/22/must-have-git-aliases-advanced-examples/
; - https://gist.github.com/robmiller/6018582
; - https://github.com/git-tips/tips
; - https://gist.github.com/robmiller/5133264
; - https://github.com/qw3rtman/git-fire
